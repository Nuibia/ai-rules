---
title: 提交信息规范
order: 1
---

# 提交信息规范（公共规则）

本仓库用于沉淀可在多个项目间复用的提交信息规范，适用于人类协作者与各类 AI 编码助手（如 Cursor、Claude 等）。请在目标项目中直接引用或复制本文档，确保团队在不同仓库中保持一致的提交风格与质量。

## 快速使用

1. 确认目标仓库使用 `commitlint` 或同类校验工具。  
2. 拷贝 `rules/commitlint.config.cjs` 至目标仓库根目录，或通过工作流引用。  
3. 将本文档同步到目标仓库的贡献指南（如 `CONTRIBUTING.md`）。  
4. 在 CI 中集成 `yarn commitlint` 等命令，确保提交信息符合规范。

## 提交信息格式

- 标题格式：`<type>:<emoji> <subject>`。  
- `subject` 使用简体中文，长度不超过 150 个字符，结尾不加句号。  
- 允许在标题下方使用空行补充详情或脚注，内容同样保持中文。  
- 全部字段保持小写，避免全大写写法。

## 类型与 Emoji 对照

以下对照表严格选取自 [gitmoji](https://gitmoji.js.org/) 提供的标准语义，并与 commitlint 的 `type` 约束保持一致：

- `feat:✨` 新增或调整功能点  
- `fix:🐛` 缺陷修复  
- `docs:📝` 文档、注释更新  
- `style:🎨` 样式或格式化调整（无业务变更）  
- `refactor:♻️` 重构实现，行为保持一致  
- `perf:⚡️` 性能优化或体积减小  
- `test:✅` 测试用例或测试配置  
- `build:🏗️` 构建脚本、打包流程或工程化基础设施  
- `ci:👷` 持续集成流水线与自动化流程  
- `chore:🔨` 开发脚本、杂项维护  
- `revert:⏪️` 回滚提交  
- `hotfix:🚑️` 紧急线上修复  
- `security:🔒` 安全补丁与合规强化  
- `localization:🌐` 多语言、本地化内容  
- `analytics:📈` 数据埋点或监控指标  
- `deps:📦️` 依赖增删改或版本管理  
- `config:🔧` 环境变量与配置调整  
- `cleanup:🔥` 移除无用代码或资源  
- `release:🔖` 发布版本号或标签  
- `wip:🚧` 进行中的阶段性提交（禁止合并至主干）

> 如需调整映射，可参考 gitmoji 官网的最新定义，并同步更新 commitlint 配置与 AI 指令模板。

## 示例

```bash
feat:✨ 新增订单中心页面

- 引入订单列表与详情切换
- 接入状态筛选与分页能力
- 完成核心路径单元测试

Closes #123
```

## AI 协作指引

- 修改前先确认技术方案，逐项执行，避免跨步骤“顺便处理”。  
- 优先复用现有实现；如不确定，请咨询仓库维护者。  
- 所有描述、注释与提交说明保持中文。  
- 尽量控制改动范围，遵守最小变更原则。  
- 若缺陷修复尝试两次仍失败，应先增加关键日志定位问题，修复完成后再移除日志。

### AI 指令模板

- 已提供适配 Cursor 的指令模板：`rules/cursor/commit-guidelines.md`。  
- 已提供适配 Claude 的指令模板：`rules/claude/commit-guidelines.md`。  
- 建议在目标项目中将对应文件复制到 `.cursor/rules`、`.claude.json` 或等效配置目录中，确保助手自动遵循本规范。

## 测试与验证建议

- 为新增功能或修复列出关键测试点，以便在目标仓库中编写自动化测试。  
- 涉及性能、安全或配置改动时，说明验证方式（如压测结果、配置回滚方案）。  
- 默认使用 `nvm` 管理 Node 版本，使用 `yarn` 管理依赖：
  - `nvm use`
  - `yarn install`
  - `yarn test`

## 在其他仓库中的引用方式

1. **复制法**：直接复制 `rules/commitlint.config.cjs` 与本文档到目标仓库对应目录。  
2. **子模块法**：将本仓库作为子模块引入，并在 CI 中引用 `rules/commitlint.config.cjs`。  
3. **工作空间共享**：在 monorepo 或多仓协作中，通过工具链统一加载该配置。  

在应用上述方式时，请同步更新目标仓库的贡献者指南，使团队成员与 AI 助手了解并遵守该规范。

